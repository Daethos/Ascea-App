<%- include('../partials/header', locals) %>

<nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
      <a class="navbar-brand">Ascean va'Esai</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="https://daethos.github.io/Arena">Ascea: Last Duel</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/profiles/<%= profile._id %>"><%= profile.name %></a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="/profiles/<%= profile._id %>/characters/new">New Ascean</a>
          </li>
        </ul>
      </div>
    </div>
    <nav class="navbar bg-light">
        <div class="container-fluid">
            <a class="btn btn-outline-danger" href="/logout">Logout</a>
        </div>
      </nav>
  </nav>

<div class="container">
  <div class="col-8 offset-2 bg-light p1 border text-center">
    <div class="col-10 bg-white text-center offset-1 p-2 mb-4 mt-4 border">
      <h3><%= characters.name %> </h3>
    </div>
    <div class="col-10 bg-white text-center offset-1 p-2 mb-4 mt-4 border">
      <table class="table table-hover table-bordered border-info">
        <thead>
          <tr>
            <th>Build Description</th>
            <th>Weapon</th>
            <th>Shield</th>
            <th>Armor</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><%= characters.description %></td>
            <td><%= characters.weapon.name %></td>
            <td><%= characters.shield.name %></td>
            <td><%= characters.armor.name %></td>
          </tr>  
        </tbody>
      </table>
    </div>
    <div class="col-10 bg-white text-center offset-1 p-2 mb-4 mt-4 border">
      <table class="table table-hover table-bordered border-info">
        <thead>
          <tr>
            <th>Weapon Name</th>
            <th>Grip Style</th>
            <th>Attack Type</th>
            <th>Damage Type</th>
            <th>Physical Damage</th>
            <th>Magic Damage</th>
            <th>Crit Chance</th>
            <th>Weapon Icon</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><%= characters.weapon.name %></td>
            <td><%= characters.weapon.grip %></td>
            <td><%= characters.weapon.attackType %></td>
            <td><%= characters.weapon.damageType %></td>
            <td><%= characters.weapon.physDam %> </td>
            <td><%= characters.weapon.magDam %> </td>
            <td>+<%= characters.weapon.crit %>%</td>
            <td><img src="<%= characters.weapon.imgURL %>"></td>
          </tr>   
        </tbody>
      </table>
      <table class="table table-hover table-bordered border-info">
        <thead>
          <tr>
            <th>Shield</th>
            <th>Physical Defense</th>
            <th>Magic Defense</th>
            <th>Roll Timer</th>
            <th>Shield Icon</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><%= characters.shield.name %></td>
            <td><%= characters.shield.physRes %>%</td>
            <td><%= characters.shield.magRes %>%</td>
            <td><%= characters.shield.roll %>s</td>
            <td><img src="<%= characters.shield.imgURL %>"></td>
          </tr>
        </tbody>
      </table>
      <table class="table table-hover table-bordered border-info">
        <thead>
          <tr>
            <th>Armor</th>
            <th>Physical Defense</th>
            <th>Magic Defense</th>
            <th>Dodge Chance</th>
            <th>Helm</th>
            <th>Chest</th>
            <th>Legs</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><%= characters.armor.name %></td>
            <td><%= characters.armor.physRes %>%</td>
            <td><%= characters.armor.magRes %>%</td>
            <td><%= characters.armor.dodge %>%</td>
            <td><img src="<%= characters.armor.imgURLTop %>"></td>
            <td><img src="<%= characters.armor.imgURLMid %>"></td>
            <td><img src="<%= characters.armor.imgURLBot %>"></td>
          </tr>
        </tbody>
      </table>
      <div class="col-10 bg-white text-center offset-1 p-2 mb-4 mt-4 border">
        <table class="table table-hover table-bordered border-info">
          <thead>
            <tr>
              <th>Physical Modifier</th>
              <th>Blunt</th>
              <th>Pierce</th>
              <th>Slash</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Cloth</td>
              <td>100</td>
              <td>115</td>
              <td>115</td>
            </tr>
            <tr>
              <td>Leather</td>
              <td>100</td>
              <td>115</td>
              <td>115</td>
            </tr>
            <tr>
              <td>Chain</td>
              <td>115</td>
              <td>100</td>
              <td>100</td>
            </tr>
            <tr>
              <td>Plate</td>
              <td>115</td>
              <td>90</td>
              <td>90</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-10 bg-white text-center offset-1 p-2 mb-4 mt-4 border">
        <table class="table table-hover table-bordered border-info">
          <thead>
            <tr>
              <th>Spell Modifier</th>
              <th>Magic</th>
              <th>Faith</th>
              <th>Sorcery</th>
              <th>Spooky</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Modifer</td>
              <td>+15% Chain</td>
              <td>+10% Damage</td>
              <td>+15% Damage</td>
              <td>+10% Damage</td>
            </tr>
            <tr>
              <td>Modifier</td>
              <td>+15% Plate</td>
              <td>+10% Defense</td>
              <td>-10% Defense</td>
              <td>+10% Defense</td>
            </tr>
            <tr>
              <td>Modifier</td>
              <td>-10% Cloth</td>
              <td>Daethos Blessing</td>
              <td>Missile Barrage</td>
              <td>Daethos Cursing</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-10 bg-white text-center offset-1 p-2 mb-4 mt-4 border">
        <table class="table table-hover table-bordered border-info">
          <thead>
            <tr>
              <th>Spell Modifier</th>
              <th>Earth</th>
              <th>Fire</th>
              <th>Frost</th>
              <th>Lightning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Modifer</td>
              <td>+5% Damage</td>
              <td>+15% Damage</td>
              <td>+5% Damage</td>
              <td>+15% Damage</td>
            </tr>
            <tr>
              <td>Modifier</td>
              <td>+15% Defense</td>
              <td>-10% Defense</td>
              <td>+15% Defense</td>
              <td>-10% Defense</td>
            </tr>
            <tr>
              <td>Modifier</td>
              <td>Quor'ei's Caer</td>
              <td>Fyero's Caer</td>
              <td>Senari's Caer</td>
              <td>Astra's Cear</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>



<script>
    
            const button = document.querySelector('#button');
            const tooltip = document.querySelector('#tooltip');

            const popperInstance = Popper.createPopper(button, tooltip, {
  modifiers: [
    {
      name: 'offset',
      options: {
        offset: [0, 8],
      },
    },
  ],
});

function show() {
  // Make the tooltip visible
  tooltip.setAttribute('data-show', '');

  // Enable the event listeners
  popperInstance.setOptions((options) => ({
    ...options,
    modifiers: [
      ...options.modifiers,
      { name: 'eventListeners', enabled: true },
    ],
  }));

  // Update its position
  popperInstance.update();
}

function hide() {
  // Hide the tooltip
  tooltip.removeAttribute('data-show');

  // Disable the event listeners
  popperInstance.setOptions((options) => ({
    ...options,
    modifiers: [
      ...options.modifiers,
      { name: 'eventListeners', enabled: false },
    ],
  }));
}

const showEvents = ['mouseenter', 'focus'];
const hideEvents = ['mouseleave', 'blur'];

showEvents.forEach((event) => {
  button.addEventListener(event, show);
});

hideEvents.forEach((event) => {
  button.addEventListener(event, hide);
});


            
                const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
                const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))

                const popover = new bootstrap.Popover('.example-popover', {
                container: 'body'
                })

            
</script>

  <%- include('../partials/footer') %>